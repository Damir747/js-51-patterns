{"ast":null,"code":"import _regeneratorRuntime from \"D:/htmlAcademy/js-56-object-pool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/htmlAcademy/js-56-object-pool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"D:/htmlAcademy/js-56-object-pool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/htmlAcademy/js-56-object-pool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar FeaturePoolServices = /*#__PURE__*/function () {\n  function FeaturePoolServices() {\n    _classCallCheck(this, FeaturePoolServices);\n    this.pool = [];\n  }\n  _createClass(FeaturePoolServices, [{\n    key: \"getFeature\",\n    value: function () {\n      var _getFeature = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(featureList) {\n        var _this = this;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (sessionStorage.getItem('features')) {\n                _context2.next = 6;\n                break;\n              }\n              _context2.next = 3;\n              return Promise.all(featureList.map( /*#__PURE__*/function () {\n                var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(feature) {\n                  var featureObj;\n                  return _regeneratorRuntime().wrap(function _callee$(_context) {\n                    while (1) switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return import(\"../../../fake-api/feature\".concat(feature, \".json\"));\n                      case 2:\n                        featureObj = _context.sent;\n                        if (_this.validate(featureObj)) {\n                          _this.pool.push(featureObj.default);\n                        }\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }, _callee);\n                }));\n                return function (_x2) {\n                  return _ref.apply(this, arguments);\n                };\n              }())).then(function () {\n                sessionStorage.setItem('features', JSON.stringify(_this.pool));\n              });\n            case 3:\n              return _context2.abrupt(\"return\", this.pool);\n            case 6:\n              return _context2.abrupt(\"return\", JSON.parse(sessionStorage.getItem('features')));\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function getFeature(_x) {\n        return _getFeature.apply(this, arguments);\n      }\n      return getFeature;\n    }()\n  }, {\n    key: \"validate\",\n    value: function validate(feature) {\n      return feature.about.length > 10 ? feature : false;\n    }\n  }]);\n  return FeaturePoolServices;\n}();\nexport { FeaturePoolServices as default };","map":{"version":3,"names":["FeaturePoolServices","_classCallCheck","pool","_createClass","key","value","_getFeature","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","featureList","_this","wrap","_callee2$","_context2","prev","next","sessionStorage","getItem","Promise","all","map","_ref","_callee","feature","featureObj","_callee$","_context","concat","sent","validate","push","default","stop","_x2","apply","arguments","then","setItem","JSON","stringify","abrupt","parse","getFeature","_x","about","length"],"sources":["D:/htmlAcademy/js-56-object-pool/src/services/feature-pool-services/feature-pool-services.jsx"],"sourcesContent":["export default class FeaturePoolServices {\r\n\tpool = [];\r\n\r\n\tasync getFeature(featureList) {\r\n\t\tif (!sessionStorage.getItem('features')) {\r\n\t\t\tawait Promise.all(featureList.map(async (feature) => {\r\n\t\t\t\tconst featureObj = await import(`../../../fake-api/feature${feature}.json`);\r\n\t\t\t\tif (this.validate(featureObj)) {\r\n\t\t\t\t\tthis.pool.push(featureObj.default);\r\n\t\t\t\t}\r\n\t\t\t})).then(() => {\r\n\t\t\t\tsessionStorage.setItem('features', JSON.stringify(this.pool));\r\n\t\t\t});\r\n\t\t\treturn this.pool;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn JSON.parse(sessionStorage.getItem('features'));\r\n\t\t}\r\n\t}\r\n\r\n\tvalidate(feature) {\r\n\t\treturn feature.about.length > 10 ? feature : false;\r\n\t}\r\n}"],"mappings":";;;;IAAqBA,mBAAmB;EAAA,SAAAA,oBAAA;IAAAC,eAAA,OAAAD,mBAAA;IAAA,KACvCE,IAAI,GAAG,EAAE;EAAA;EAAAC,YAAA,CAAAH,mBAAA;IAAAI,GAAA;IAAAC,KAAA;MAAA,IAAAC,WAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAET,SAAAC,SAAiBC,WAAW;QAAA,IAAAC,KAAA;QAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAC,IAAA,GAAAD,SAAA,CAAAE,IAAA;YAAA;cAAA,IACtBC,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC;gBAAAJ,SAAA,CAAAE,IAAA;gBAAA;cAAA;cAAAF,SAAA,CAAAE,IAAA;cAAA,OAChCG,OAAO,CAACC,GAAG,CAACV,WAAW,CAACW,GAAG;gBAAA,IAAAC,IAAA,GAAAhB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAe,QAAOC,OAAO;kBAAA,IAAAC,UAAA;kBAAA,OAAAlB,mBAAA,GAAAK,IAAA,UAAAc,SAAAC,QAAA;oBAAA,kBAAAA,QAAA,CAAAZ,IAAA,GAAAY,QAAA,CAAAX,IAAA;sBAAA;wBAAAW,QAAA,CAAAX,IAAA;wBAAA,OACtB,MAAM,6BAAAY,MAAA,CAA6BJ,OAAO,UAAO,CAAC;sBAAA;wBAArEC,UAAU,GAAAE,QAAA,CAAAE,IAAA;wBAChB,IAAIlB,KAAI,CAACmB,QAAQ,CAACL,UAAU,CAAC,EAAE;0BAC9Bd,KAAI,CAACV,IAAI,CAAC8B,IAAI,CAACN,UAAU,CAACO,OAAO,CAAC;wBACnC;sBAAC;sBAAA;wBAAA,OAAAL,QAAA,CAAAM,IAAA;oBAAA;kBAAA,GAAAV,OAAA;gBAAA,CACD;gBAAA,iBAAAW,GAAA;kBAAA,OAAAZ,IAAA,CAAAa,KAAA,OAAAC,SAAA;gBAAA;cAAA,IAAC,CAAC,CAACC,IAAI,CAAC,YAAM;gBACdpB,cAAc,CAACqB,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAAC7B,KAAI,CAACV,IAAI,CAAC,CAAC;cAC9D,CAAC,CAAC;YAAA;cAAA,OAAAa,SAAA,CAAA2B,MAAA,WACK,IAAI,CAACxC,IAAI;YAAA;cAAA,OAAAa,SAAA,CAAA2B,MAAA,WAGTF,IAAI,CAACG,KAAK,CAACzB,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;YAAA;YAAA;cAAA,OAAAJ,SAAA,CAAAmB,IAAA;UAAA;QAAA,GAAAxB,QAAA;MAAA,CAEtD;MAAA,SAAAkC,WAAAC,EAAA;QAAA,OAAAvC,WAAA,CAAA8B,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAO,UAAA;IAAA;EAAA;IAAAxC,GAAA;IAAAC,KAAA,EAED,SAAA0B,SAASN,OAAO,EAAE;MACjB,OAAOA,OAAO,CAACqB,KAAK,CAACC,MAAM,GAAG,EAAE,GAAGtB,OAAO,GAAG,KAAK;IACnD;EAAC;EAAA,OAAAzB,mBAAA;AAAA;AAAA,SAtBmBA,mBAAmB,IAAAiC,OAAA"},"metadata":{},"sourceType":"module"}