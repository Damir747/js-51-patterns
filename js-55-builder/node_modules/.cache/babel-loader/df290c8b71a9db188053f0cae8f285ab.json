{"ast":null,"code":"import _slicedToArray from \"D:/htmlAcademy/js-54-abstract-fabric/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"D:\\\\htmlAcademy\\\\js-54-abstract-fabric\\\\src\\\\components\\\\pages\\\\order\\\\order.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport Panel from \"/src/components/ui/panel/panel\";\nimport Title, { TitleSize } from \"/src/components/ui/title/title\";\nimport ProductCart from \"/src/components/ui/product-cart/product-cart\";\nimport Button from \"/src/components/ui/button/button\";\nimport CheckboxList from \"/src/components/ui/checkbox-list/checkbox-list\";\nimport { LeftColumn, StyledOrder, AddressInput, PriceLabel, PriceValue, ProductSwiper, CheckboxLabel } from \"./styles\";\nimport { SwiperSlide } from \"swiper/react\";\nimport SwiperCore, { Pagination, Mousewheel, Scrollbar } from \"swiper/core\";\nimport \"swiper/swiper-bundle.min.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nSwiperCore.use([Mousewheel, Pagination, Scrollbar]);\n\n// Оформление заказа\nfunction Order(_ref) {\n  _s();\n  var _this = this;\n  var products = _ref.products;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    swiperRef = _useState2[0],\n    setSwiperRef = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectProductIds = _useState4[0],\n    setSelectProductIds = _useState4[1];\n  //id в продукты\n  var selectProducts = selectProductIds.map(function (id) {\n    return products.find(function (product) {\n      return product.id === id;\n    });\n  });\n  //цена покупки\n  var fullPrice = selectProducts.reduce(function (summ, product) {\n    return summ += product.price;\n  }, 0);\n  var handleOnClickProduct = function handleOnClickProduct(value, index) {\n    if (!selectProductIds.includes(value)) {\n      swiperRef.slideTo(index, 0);\n    }\n  };\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    address = _useState6[0],\n    setAddress = _useState6[1];\n  var handleBuyClick = function handleBuyClick() {\n    // eslint-disable-next-line no-alert\n    alert(\"\\u0421\\u043F\\u0430\\u0441\\u0438\\u0431\\u043E \\u0437\\u0430 \\u0437\\u0430\\u043A\\u0430\\u0437, \\u0432\\u044B \\u043A\\u0443\\u043F\\u0438\\u043B\\u0438:\\n\".concat(selectProducts.map(function (product) {\n      return \"\".concat(product.name, \" - \").concat(product.price, \" \\u0440\\u0443\\u0431.\\n\");\n    }), \"\\n    \\u0418\\u0442\\u043E\\u0433\\u043E: \").concat(fullPrice, \" \\u0440\\u0443\\u0431.\\n    \\u0414\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430 \\u043F\\u043E \\u0430\\u0434\\u0440\\u0435\\u0441\\u0443: \").concat(address, \".\"));\n  };\n  return products && products.length ? /*#__PURE__*/_jsxDEV(StyledOrder, {\n    as: \"form\",\n    children: [/*#__PURE__*/_jsxDEV(LeftColumn, {\n      children: [/*#__PURE__*/_jsxDEV(Panel, {\n        marginBottom: 20,\n        paddingTop: 24,\n        paddingBottom: 10,\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          as: \"h2\",\n          size: TitleSize.EXTRA_SMALL,\n          marginBottom: 12,\n          children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u044B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CheckboxList, {\n          labelComponent: CheckboxLabel,\n          name: \"select-products\",\n          isGridList: false,\n          options: products.map(function (product) {\n            return {\n              value: product.id,\n              title: product.name\n            };\n          }),\n          selectValues: selectProductIds,\n          onChange: setSelectProductIds,\n          onClickLabel: handleOnClickProduct\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Panel, {\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          size: TitleSize.EXTRA_SMALL,\n          marginBottom: 24,\n          children: \"\\u0421\\u0434\\u0435\\u043B\\u0430\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AddressInput, {\n          value: address,\n          onChange: function onChange(e) {\n            return setAddress(e.target.value);\n          },\n          placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0430\\u0434\\u0440\\u0435\\u0441 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PriceLabel, {\n          as: \"span\",\n          children: \"\\u0426\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PriceValue, {\n          value: fullPrice\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          maxWidth: true,\n          onClick: handleBuyClick,\n          disabled: !(selectProductIds.length && address),\n          children: \"\\u041A\\u0443\\u043F\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductSwiper, {\n      onSwiper: setSwiperRef,\n      spaceBetween: 12,\n      direction: \"vertical\",\n      slidesPerView: \"auto\",\n      scrollbar: {\n        draggable: true\n      },\n      mousewheel: true,\n      pagination: {\n        type: \"fanction\"\n      },\n      children: products.map(function (product) {\n        return /*#__PURE__*/_jsxDEV(SwiperSlide, {\n          children: /*#__PURE__*/_jsxDEV(ProductCart, {\n            product: product\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, _this)\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this) : \"Продукты были слишком вкусные и их разобрали.\";\n}\n_s(Order, \"HuavDhFIBr/iimz8lGQ8gzLl9jM=\");\n_c = Order;\nexport default Order;\nvar _c;\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"names":["React","useState","Panel","Title","TitleSize","ProductCart","Button","CheckboxList","LeftColumn","StyledOrder","AddressInput","PriceLabel","PriceValue","ProductSwiper","CheckboxLabel","SwiperSlide","SwiperCore","Pagination","Mousewheel","Scrollbar","jsxDEV","_jsxDEV","use","Order","_ref","_s","_this","products","_useState","_useState2","_slicedToArray","swiperRef","setSwiperRef","_useState3","_useState4","selectProductIds","setSelectProductIds","selectProducts","map","id","find","product","fullPrice","reduce","summ","price","handleOnClickProduct","value","index","includes","slideTo","_useState5","_useState6","address","setAddress","handleBuyClick","alert","concat","name","length","as","children","marginBottom","paddingTop","paddingBottom","size","EXTRA_SMALL","fileName","_jsxFileName","lineNumber","columnNumber","labelComponent","isGridList","options","title","selectValues","onChange","onClickLabel","e","target","placeholder","maxWidth","onClick","disabled","onSwiper","spaceBetween","direction","slidesPerView","scrollbar","draggable","mousewheel","pagination","type","_c","$RefreshReg$"],"sources":["D:/htmlAcademy/js-54-abstract-fabric/src/components/pages/order/order.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Panel from \"/src/components/ui/panel/panel\";\nimport Title, { TitleSize } from \"/src/components/ui/title/title\";\nimport ProductCart from \"/src/components/ui/product-cart/product-cart\";\nimport Button from \"/src/components/ui/button/button\";\nimport CheckboxList from \"/src/components/ui/checkbox-list/checkbox-list\";\n\nimport {\n  LeftColumn,\n  StyledOrder,\n  AddressInput,\n  PriceLabel,\n  PriceValue,\n  ProductSwiper,\n  CheckboxLabel\n} from \"./styles\";\nimport { SwiperSlide } from \"swiper/react\";\nimport SwiperCore, { Pagination, Mousewheel, Scrollbar } from \"swiper/core\";\nimport \"swiper/swiper-bundle.min.css\";\nSwiperCore.use([Mousewheel, Pagination, Scrollbar]);\n\n// Оформление заказа\nfunction Order({\n  products // список продуктов\n}) {\n  const [swiperRef, setSwiperRef] = useState(null);\n  const [selectProductIds, setSelectProductIds] = useState([]);\n  //id в продукты\n  const selectProducts = selectProductIds.map((id) =>\n    products.find((product) => product.id === id)\n  );\n  //цена покупки\n  const fullPrice = selectProducts.reduce(\n    (summ, product) => (summ += product.price),\n    0\n  );\n  const handleOnClickProduct = (value, index) => {\n    if (!selectProductIds.includes(value)) {\n      swiperRef.slideTo(index, 0);\n    }\n  };\n  const [address, setAddress] = useState(\"\");\n  const handleBuyClick = () => {\n    // eslint-disable-next-line no-alert\n    alert(`Спасибо за заказ, вы купили:\\n${selectProducts.map(\n      (product) => `${product.name} - ${product.price} руб.\\n`\n    )}\n    Итого: ${fullPrice} руб.\n    Доставка по адресу: ${address}.`);\n  };\n  return products && products.length ? (\n    <StyledOrder as=\"form\">\n      <LeftColumn>\n        <Panel marginBottom={20} paddingTop={24} paddingBottom={10}>\n          <Title as=\"h2\" size={TitleSize.EXTRA_SMALL} marginBottom={12}>\n            Выберите продукты\n          </Title>\n          <CheckboxList\n            labelComponent={CheckboxLabel}\n            name={\"select-products\"}\n            isGridList={false}\n            options={products.map((product) => ({\n              value: product.id,\n              title: product.name\n            }))}\n            selectValues={selectProductIds}\n            onChange={setSelectProductIds}\n            onClickLabel={handleOnClickProduct}\n          />\n        </Panel>\n        <Panel>\n          <Title size={TitleSize.EXTRA_SMALL} marginBottom={24}>\n            Сделать заказ\n          </Title>\n          <AddressInput\n            value={address}\n            onChange={(e) => setAddress(e.target.value)}\n            placeholder=\"Введите адрес доставки\"\n          />\n          <PriceLabel as=\"span\">Цена</PriceLabel>\n          <PriceValue value={fullPrice} />\n          <Button\n            maxWidth\n            onClick={handleBuyClick}\n            disabled={!(selectProductIds.length && address)}\n          >\n            Купить\n          </Button>\n        </Panel>\n      </LeftColumn>\n      <ProductSwiper\n        onSwiper={setSwiperRef}\n        spaceBetween={12}\n        direction=\"vertical\"\n        slidesPerView=\"auto\"\n        scrollbar={{ draggable: true }}\n        mousewheel\n        pagination={{\n          type: \"fanction\"\n        }}\n      >\n        {products.map((product) => (\n          <SwiperSlide key={product.id}>\n            <ProductCart product={product} />\n          </SwiperSlide>\n        ))}\n      </ProductSwiper>\n    </StyledOrder>\n  ) : (\n    \"Продукты были слишком вкусные и их разобрали.\"\n  );\n}\n\nexport default Order;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}